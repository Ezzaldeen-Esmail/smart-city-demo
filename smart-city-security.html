<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ ÙˆØ§Ù„ØªÙˆØ£Ù…Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
        }

        h2 {
            color: #764ba2;
            text-align: center;
            margin-bottom: 30px;
            font-size: 20px;
            font-weight: normal;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .column {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .without {
            background: #ffe5e5;
            border: 3px solid #ff4444;
        }

        .with {
            background: #e5ffe5;
            border: 3px solid #44ff44;
        }

        .column h3 {
            margin-bottom: 15px;
            font-size: 20px;
        }

        .column ul {
            list-style: none;
            text-align: right;
        }

        .column li {
            padding: 8px 0;
            font-size: 14px;
        }

        .city-visual {
            text-align: center;
            font-size: 60px;
            margin: 30px 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .stage-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-right: 5px solid #667eea;
        }

        .stage-number {
            color: #667eea;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .threat-alert {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
            color: #856404;
        }

        .defense-btn {
            background: white;
            color: #667eea;
            border: 3px solid #667eea;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            transition: all 0.3s;
            font-weight: bold;
        }

        .defense-btn:hover:not(:disabled) {
            background: #667eea;
            color: white;
            transform: translateX(-5px);
        }

        .defense-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .defense-btn.selected-correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .defense-btn.selected-wrong {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .result-box {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            animation: fadeIn 0.3s ease-in;
        }

        .result-correct {
            background: #d4edda;
            border: 3px solid #28a745;
            color: #155724;
        }

        .result-wrong {
            background: #f8d7da;
            border: 3px solid #dc3545;
            color: #721c24;
        }

        .explanation {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 2px solid rgba(0,0,0,0.1);
            font-size: 14px;
            line-height: 1.6;
            text-align: right;
            font-weight: normal;
        }

        .score-display {
            text-align: center;
            margin: 30px 0;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            font-size: 48px;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .score-label {
            font-size: 14px;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
        }

        .emoji {
            font-size: 48px;
            margin: 20px 0;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 22px;
            }

            .comparison {
                grid-template-columns: 1fr;
            }

            .btn {
                font-size: 16px;
                padding: 12px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome" class="screen active">
            <h1>ğŸ™ï¸ Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ</h1>
            <h2>ÙÙŠ Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ø°ÙƒÙŠØ©</h2>
            <div class="city-visual">ğŸŒƒ</div>
            <p style="text-align: center; margin: 20px 0; font-size: 16px; line-height: 1.8;">
                Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ØªØ¬Ø±Ø¨Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„ÙÙ‡Ù… ÙƒÙŠÙÙŠØ© Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ø°ÙƒÙŠØ© Ù…Ù† Ø§Ù„Ù‡Ø¬Ù…Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙˆØ£Ù…Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©
            </p>
            <button class="btn" onclick="goToScreen('comparison')">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¬Ø±Ø¨Ø©</button>
        </div>

        <!-- Before/After Comparison -->
        <div id="comparison" class="screen">
            <h1>âš–ï¸ Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯</h1>
            <h2>ØªØ£Ø«ÙŠØ± Ø§Ù„ØªÙˆØ£Ù…Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙˆØ§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ</h2>

            <div class="comparison">
                <div class="column without">
                    <h3>ğŸ”´ Ø¨Ø¯ÙˆÙ† Ø­Ù…Ø§ÙŠØ©</h3>
                    <ul>
                        <li>âŒ Ø£Ø¬Ù‡Ø²Ø© IoT Ù…ÙƒØ´ÙˆÙØ©</li>
                        <li>âŒ Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ù…Ø´ÙØ±Ø©</li>
                        <li>âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø±Ø§Ù‚Ø¨Ø©</li>
                        <li>âŒ Ù…ØµØ§Ø¯Ù‚Ø© Ø¶Ø¹ÙŠÙØ©</li>
                        <li>âŒ Ø´Ø¨ÙƒØ§Øª Ù…ÙØªÙˆØ­Ø©</li>
                    </ul>
                </div>

                <div class="column with">
                    <h3>ğŸŸ¢ Ù…Ø¹ Ø§Ù„Ø­Ù…Ø§ÙŠØ©</h3>
                    <ul>
                        <li>âœ… ØªØ´ÙÙŠØ± Ø´Ø§Ù…Ù„</li>
                        <li>âœ… ÙƒØ´Ù ØªÙ‡Ø¯ÙŠØ¯Ø§Øª Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</li>
                        <li>âœ… Ù…ØµØ§Ø¯Ù‚Ø© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø¹ÙˆØ§Ù…Ù„</li>
                        <li>âœ… ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø´Ø¨ÙƒØ§Øª</li>
                        <li>âœ… ØªÙˆØ£Ù…Ø© Ø±Ù‚Ù…ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±</li>
                    </ul>
                </div>
            </div>

            <button class="btn" onclick="startSimulation()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©</button>
        </div>

        <!-- Stage 1 -->
        <div id="stage1" class="screen">
            <div class="stage-info">
                <div class="stage-number">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1 Ù…Ù† 4</div>
                <h2>ğŸ” Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹ (Reconnaissance)</h2>
            </div>

            <div class="threat-alert">
                âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ù‚Ø±Ø§ØµÙ†Ø© ÙŠÙ‚ÙˆÙ…ÙˆÙ† Ø¨Ù…Ø³Ø­ Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù!
            </div>

            <div class="city-visual" id="city1">ğŸ™ï¸</div>

            <p style="text-align: center; margin: 20px 0;">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨:</p>

            <div id="buttons1">
                <button class="defense-btn" onclick="checkAnswer(1, 'A', true, this)">
                    ğŸ“Š A) Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø´Ø¨ÙƒØ© (Network Monitoring)
                </button>
                <button class="defense-btn" onclick="checkAnswer(1, 'B', false, this)">
                    ğŸ”¥ B) Ø¬Ø¯Ø§Ø± Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙÙ‚Ø· (Firewall)
                </button>
                <button class="defense-btn" onclick="checkAnswer(1, 'C', false, this)">
                    ğŸš« C) ØªØ¬Ø§Ù‡Ù„ Ø§Ù„ØªØ­Ø°ÙŠØ±
                </button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 25%"></div>
            </div>
        </div>

        <!-- Stage 2 -->
        <div id="stage2" class="screen">
            <div class="stage-info">
                <div class="stage-number">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2 Ù…Ù† 4</div>
                <h2>ğŸšª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ (Initial Access)</h2>
            </div>

            <div class="threat-alert">
                âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø®ØªØ±Ø§Ù‚ Ø¹Ø¨Ø± Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠ (Phishing)!
            </div>

            <div class="city-visual" id="city2">ğŸ™ï¸</div>

            <p style="text-align: center; margin: 20px 0;">ÙƒÙŠÙ ØªØ­Ù…ÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŸ</p>

            <div id="buttons2">
                <button class="defense-btn" onclick="checkAnswer(2, 'A', false, this)">
                    ğŸ“§ A) ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
                </button>
                <button class="defense-btn" onclick="checkAnswer(2, 'B', true, this)">
                    ğŸ“ B) ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† + MFA
                </button>
                <button class="defense-btn" onclick="checkAnswer(2, 'C', false, this)">
                    ğŸ”’ C) ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ÙÙ‚Ø·
                </button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 50%"></div>
            </div>
        </div>

        <!-- Stage 3 -->
        <div id="stage3" class="screen">
            <div class="stage-info">
                <div class="stage-number">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3 Ù…Ù† 4</div>
                <h2>â†”ï¸ Ø§Ù„ØªØ­Ø±Ùƒ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (Lateral Movement)</h2>
            </div>

            <div class="threat-alert">
                âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø© ÙŠÙ†ØªØ´Ø±ÙˆÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆÙŠØ­Ø§ÙˆÙ„ÙˆÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø£Ù†Ø¸Ù…Ø© Ø­Ø³Ø§Ø³Ø©!
            </div>

            <div class="city-visual" id="city3">ğŸ™ï¸</div>

            <p style="text-align: center; margin: 20px 0;">Ø£ÙˆÙ‚Ù Ø§Ù„Ø§Ù†ØªØ´Ø§Ø±:</p>

            <div id="buttons3">
                <button class="defense-btn" onclick="checkAnswer(3, 'A', false, this)">
                    ğŸ”Œ A) ÙØµÙ„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø¹Ù† Ø§Ù„Ø´Ø¨ÙƒØ©
                </button>
                <button class="defense-btn" onclick="checkAnswer(3, 'B', true, this)">
                    ğŸ›¡ï¸ B) Zero Trust + ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø´Ø¨ÙƒØ§Øª
                </button>
                <button class="defense-btn" onclick="checkAnswer(3, 'C', false, this)">
                    â¸ï¸ C) Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©
                </button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 75%"></div>
            </div>
        </div>

        <!-- Stage 4 -->
        <div id="stage4" class="screen">
            <div class="stage-info">
                <div class="stage-number">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4 Ù…Ù† 4</div>
                <h2>ğŸ“¤ Ø³Ø±Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Exfiltration)</h2>
            </div>

            <div class="threat-alert">
                âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø© ÙŠØ­Ø§ÙˆÙ„ÙˆÙ† Ø³Ø±Ù‚Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† Ø§Ù„Ø­Ø³Ø§Ø³Ø©!
            </div>

            <div class="city-visual" id="city4">ğŸ™ï¸</div>

            <p style="text-align: center; margin: 20px 0;">Ø§Ø­Ù…Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</p>

            <div id="buttons4">
                <button class="defense-btn" onclick="checkAnswer(4, 'A', false, this)">
                    ğŸ“ A) Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                </button>
                <button class="defense-btn" onclick="checkAnswer(4, 'B', false, this)">
                    ğŸ”“ B) Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙÙ‚Ø·
                </button>
                <button class="defense-btn" onclick="checkAnswer(4, 'C', true, this)">
                    ğŸ” C) ØªØ´ÙÙŠØ± + DLP + AI Detection
                </button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results" class="screen">
            <h1>ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©!</h1>
            <h2>Ù†ØªØ§Ø¦Ø¬Ùƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>

            <div class="score-display">
                <div class="score-circle">
                    <div id="scoreValue">0</div>
                    <div class="score-label">Ù…Ù† 4</div>
                </div>
                <h3 id="scoreText">Ø¬ÙŠØ¯</h3>
                <div class="emoji" id="scoreEmoji">ğŸ˜Š</div>
            </div>

            <div id="resultDetails" style="text-align: right; margin: 20px 0;"></div>

            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ’¡ Ù…Ø§ ØªØ¹Ù„Ù…ØªÙ‡:</h3>
                <ul style="text-align: right; line-height: 2;">
                    <li>Ø§Ù„ØªÙˆØ£Ù…Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ØªØ³Ù…Ø­ Ø¨Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯ÙØ§Ø¹Ø§Øª Ø¯ÙˆÙ† ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©</li>
                    <li>Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ ÙŠØªØ·Ù„Ø¨ Ø¯ÙØ§Ø¹Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª</li>
                    <li>Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ø°ÙƒÙŠØ© ØªØ­ØªØ§Ø¬ Ø­Ù…Ø§ÙŠØ© Ø§Ø³ØªØ¨Ø§Ù‚ÙŠØ© ÙˆÙ„ÙŠØ³Øª Ø±Ø¯ ÙØ¹Ù„</li>
                    <li>Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ ÙŠØ¹Ù…Ù„Ø§Ù† Ù…Ø¹Ø§Ù‹ Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</li>
                </ul>
            </div>

            <button class="btn" onclick="restart()">ğŸ”„ Ø¬Ø±Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
            <button class="btn" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);" onclick="shareResults()">
                ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©
            </button>
        </div>
    </div>

    <script>
        let score = 0;
        let answers = [];
        let answerLocked = false;

        // ØªÙˆØ¶ÙŠØ­Ø§Øª Ù…ÙØµÙ„Ø© Ù„ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø©
        const explanations = {
            1: {
                correct: "Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø´Ø¨ÙƒØ© (Network Monitoring) Ù‡ÙŠ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£Ù…Ø«Ù„ Ù„Ø£Ù†Ù‡Ø§ ØªØªÙŠØ­ Ø§ÙƒØªØ´Ø§Ù Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø³Ø­ Ø§Ù„Ù…Ø´Ø¨ÙˆÙ‡Ø© ÙÙŠ ÙˆÙ‚Øª Ù…Ø¨ÙƒØ±. Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø±ÙƒØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ù†Ù…Ø§Ø· ØºÙŠØ± Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ù‡Ø§Ø¬Ù…ÙŠÙ† Ù‚Ø¨Ù„ Ø£Ù† ÙŠØ¬Ø¯ÙˆØ§ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù.",
                wrong_B: "Ø¬Ø¯Ø§Ø± Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØ­Ø¯Ù‡ ØºÙŠØ± ÙƒØ§ÙÙ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©ØŒ Ù„Ø£Ù† Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø© Ù„Ø§ ÙŠØ­Ø§ÙˆÙ„ÙˆÙ† Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø¹Ø¯ - Ø¨Ù„ ÙŠØ¨Ø­Ø«ÙˆÙ† Ø¹Ù† Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù ÙÙ‚Ø·. Ù†Ø­ØªØ§Ø¬ Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ù†Ø´Ø·Ø© Ù„Ø±ØµØ¯ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹.",
                wrong_C: "ØªØ¬Ø§Ù‡Ù„ Ø§Ù„ØªØ­Ø°ÙŠØ± Ø®Ø·Ø£ ÙØ§Ø¯Ø­! Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹ Ù‡ÙŠ ÙØ±ØµØªÙƒ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù‡Ø¬ÙˆÙ… Ù‚Ø¨Ù„ Ø£Ù† ÙŠØ¨Ø¯Ø£. Ø§Ù„ØªØ¬Ø§Ù‡Ù„ ÙŠØ¹Ù†ÙŠ Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù‚Ø±Ø§ØµÙ†Ø© Ø¨Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØ§Ø³ØªØºÙ„Ø§Ù„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹."
            },
            2: {
                correct: "ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† + MFA Ù‡Ùˆ Ø§Ù„Ø­Ù„ Ø§Ù„Ø´Ø§Ù…Ù„! Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙŠÙ‚Ù„Ù„ Ù…Ù† ÙˆÙ‚ÙˆØ¹ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙÙŠ ÙØ® Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠØŒ Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ (MFA) ØªÙˆÙØ± Ø·Ø¨Ù‚Ø© Ø­Ù…Ø§ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© Ø­ØªÙ‰ Ù„Ùˆ ØªÙ… Ø§Ø®ØªØ±Ø§Ù‚ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.",
                wrong_A: "ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù„ÙŠØ³ Ø­Ù„Ø§Ù‹! Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ† Ù‚Ø¯ ÙŠÙØªØ­ÙˆÙ† Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø·Ø£. Ù†Ø­ØªØ§Ø¬ Ù„ØªØ¯Ø±ÙŠØ¨Ù‡Ù… Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„ÙŠÙ‡Ø§ ÙˆØ­Ù…Ø§ÙŠØªÙ‡Ù… Ø¨Ù€ MFA.",
                wrong_C: "ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ÙÙ‚Ø· ØºÙŠØ± ÙƒØ§ÙÙØŒ Ù„Ø£Ù† Ù‡Ø¬Ù…Ø§Øª Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªØ³Ø±Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø£ÙŠØ¶Ø§Ù‹. Ù†Ø­ØªØ§Ø¬ Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ¥Ø¶Ø§ÙØ© MFA Ù„Ø­Ù…Ø§ÙŠØ© Ø­Ù‚ÙŠÙ‚ÙŠØ©."
            },
            3: {
                correct: "Zero Trust + ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ù‡Ùˆ Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ! Ù†Ù…ÙˆØ°Ø¬ Zero Trust ÙŠØ¹Ù†ÙŠ \"Ù„Ø§ ØªØ«Ù‚ Ø¨Ø£Ø­Ø¯\" - ÙƒÙ„ ÙˆØµÙˆÙ„ ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†Ù‡. ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø´Ø¨ÙƒØ§Øª ÙŠØ­Ø¯ Ù…Ù† Ø§Ù†ØªØ´Ø§Ø± Ø§Ù„Ù‡Ø¬ÙˆÙ… Ø­ØªÙ‰ Ù„Ùˆ Ø§Ø®ØªØ±Ù‚ Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø© Ø¬Ø²Ø¡Ø§Ù‹ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù….",
                wrong_A: "ÙØµÙ„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø­Ù„ Ù…ØªØ·Ø±Ù ÙˆØºÙŠØ± Ø¹Ù…Ù„ÙŠ! Ø³ÙŠÙˆÙ‚Ù ÙƒÙ„ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙˆÙŠØ³Ø¨Ø¨ ÙÙˆØ¶Ù‰. Ù†Ø­ØªØ§Ø¬ Ù„Ø­Ù„ Ø°ÙƒÙŠ ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ù‡Ø¬ÙˆÙ… Ø¯ÙˆÙ† ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©.",
                wrong_C: "Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø®Ø·Ø£ ÙƒØ¨ÙŠØ±! ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©ØŒ Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø© ÙŠÙ†ØªØ´Ø±ÙˆÙ† Ø¨Ø³Ø±Ø¹Ø©. Ø§Ù„ØªØ£Ø®ÙŠØ± ÙŠØ¹Ù†ÙŠ Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø³ÙŠØ·Ø±Ø©. ÙŠØ¬Ø¨ Ø§Ù„ØªØµØ±Ù ÙÙˆØ±Ø§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Zero Trust ÙˆØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø´Ø¨ÙƒØ§Øª."
            },
            4: {
                correct: "ØªØ´ÙÙŠØ± + DLP + AI Detection Ù‡Ùˆ Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ø£Ù‚ÙˆÙ‰! Ø§Ù„ØªØ´ÙÙŠØ± ÙŠØ­Ù…ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­ØªÙ‰ Ù„Ùˆ ØªÙ… Ø³Ø±Ù‚ØªÙ‡Ø§ØŒ DLP (Data Loss Prevention) ÙŠÙ…Ù†Ø¹ ØªØ³Ø±ÙŠØ¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠÙƒØªØ´Ù Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø³Ø±Ù‚Ø© Ø¨Ø´ÙƒÙ„ ÙÙˆØ±ÙŠ.",
                wrong_A: "Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙŠØ¹Ù†ÙŠ Ø®Ø³Ø§Ø±Ø© ÙƒÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©! Ù‡Ø°Ø§ Ø­Ù„ ÙƒØ§Ø±Ø«ÙŠ ÙŠØ¯Ù…Ø± Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡ÙŠ Ø£ØµÙ„ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø°ÙƒÙŠØ© ÙˆÙŠØ¬Ø¨ Ø­Ù…Ø§ÙŠØªÙ‡Ø§ Ù„Ø§ Ø­Ø°ÙÙ‡Ø§.",
                wrong_B: "Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙˆØ­Ø¯Ù‡ Ù„Ø§ ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø³Ø±Ù‚Ø©! Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø© Ø³ÙŠØ­ØµÙ„ÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©. Ù†Ø­ØªØ§Ø¬ ØªØ´ÙÙŠØ± ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªØ³Ø±ÙŠØ¨ ÙˆØ§ÙƒØªØ´Ø§Ù Ø°ÙƒÙŠ."
            }
        };

        function goToScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            answerLocked = false;
        }

        function startSimulation() {
            score = 0;
            answers = [];
            answerLocked = false;
            goToScreen('stage1');
        }

        function checkAnswer(stage, choice, isCorrect, button) {
            if (answerLocked) {
                return;
            }

            answerLocked = true;

            const buttonsContainer = document.getElementById('buttons' + stage);
            const allButtons = buttonsContainer.querySelectorAll('.defense-btn');
            allButtons.forEach(btn => {
                btn.disabled = true;
            });

            if (isCorrect) {
                button.classList.add('selected-correct');
            } else {
                button.classList.add('selected-wrong');
            }

            answers.push({stage, choice, isCorrect});

            const cityEmoji = document.getElementById('city' + stage);

            if (isCorrect) {
                score++;
                cityEmoji.textContent = 'ğŸ™ï¸âœ…';
                showFeedback(stage, true, choice);
            } else {
                cityEmoji.textContent = 'ğŸ™ï¸âŒ';
                showFeedback(stage, false, choice);
            }

            setTimeout(() => {
                if (stage < 4) {
                    goToScreen('stage' + (stage + 1));
                } else {
                    showResults();
                }
            }, 5000); // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙˆÙ‚Øª Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªÙˆØ¶ÙŠØ­
        }

        function showFeedback(stage, isCorrect, choice) {
            const screen = document.getElementById('stage' + stage);
            const feedback = document.createElement('div');
            feedback.className = isCorrect ? 'result-box result-correct' : 'result-box result-wrong';

            let explanationText = '';
            if (isCorrect) {
                explanationText = explanations[stage].correct;
            } else {
                explanationText = explanations[stage]['wrong_' + choice];
            }

            feedback.innerHTML = `
                <div style="font-size: 18px; margin-bottom: 10px;">
                    ${isCorrect ? 'âœ… Ù…Ù…ØªØ§Ø²! Ø§Ø®ØªÙŠØ§Ø± ØµØ­ÙŠØ­' : 'âŒ Ù„Ù„Ø£Ø³Ù! Ø§Ø®ØªÙŠØ§Ø± Ø®Ø§Ø·Ø¦'}
                </div>
                <div class="explanation">
                    <strong>ğŸ’¡ Ù„Ù…Ø§Ø°Ø§ØŸ</strong><br>
                    ${explanationText}
                </div>
            `;

            screen.appendChild(feedback);
        }

        function showResults() {
            goToScreen('results');

            document.getElementById('scoreValue').textContent = score;

            let resultText = '';
            let emoji = '';

            if (score === 4) {
                resultText = 'ğŸ† Ù…Ù…ØªØ§Ø²! Ø®Ø¨ÙŠØ± Ø£Ù…Ù† Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ';
                emoji = 'ğŸ‰';
            } else if (score === 3) {
                resultText = 'ğŸ‘ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹! ØªØ­ØªØ§Ø¬ ØªØ¯Ø±ÙŠØ¨ Ø¨Ø³ÙŠØ·';
                emoji = 'ğŸ˜Š';
            } else if (score === 2) {
                resultText = 'ğŸ“š Ø¬ÙŠØ¯! Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¹Ù„Ù… Ù…Ø·Ù„ÙˆØ¨';
                emoji = 'ğŸ¤”';
            } else {
                resultText = 'ğŸ’ª Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù…!';
                emoji = 'ğŸ“–';
            }

            document.getElementById('scoreText').textContent = resultText;
            document.getElementById('scoreEmoji').textContent = emoji;

            let details = '<h4 style="color: #667eea; margin-bottom: 10px;">ØªÙØ§ØµÙŠÙ„ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ:</h4><ul>';
            answers.forEach((a, i) => {
                details += `<li style="margin: 10px 0; padding: 10px; background: ${a.isCorrect ? '#d4edda' : '#f8d7da'}; border-radius: 5px;">
                    Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${i+1}: ${a.isCorrect ? 'âœ… ØµØ­ÙŠØ­' : 'âŒ Ø®Ø·Ø£'}
                </li>`;
            });
            details += '</ul>';

            document.getElementById('resultDetails').innerHTML = details;
        }

        function restart() {
            score = 0;
            answers = [];
            answerLocked = false;

            document.querySelectorAll('.result-box').forEach(box => box.remove());

            for (let i = 1; i <= 4; i++) {
                const buttonsContainer = document.getElementById('buttons' + i);
                if (buttonsContainer) {
                    const allButtons = buttonsContainer.querySelectorAll('.defense-btn');
                    allButtons.forEach(btn => {
                        btn.disabled = false;
                        btn.classList.remove('selected-correct', 'selected-wrong');
                    });
                }

                const cityEmoji = document.getElementById('city' + i);
                if (cityEmoji) {
                    cityEmoji.textContent = 'ğŸ™ï¸';
                }
            }

            goToScreen('welcome');
        }

        function shareResults() {
            const text = `Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${score}/4 ÙÙŠ Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ Ù„Ù„Ù…Ø¯Ù† Ø§Ù„Ø°ÙƒÙŠØ©! ğŸ™ï¸`;

            if (navigator.share) {
                navigator.share({
                    title: 'Ù†ØªÙŠØ¬ØªÙŠ ÙÙŠ Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ',
                    text: text
                });
            } else {
                alert('Ù†ØªÙŠØ¬ØªÙƒ: ' + text + '\n\nØ§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„Ù†Øµ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙ‡!');
            }
        }
    </script>
</body>
</html>